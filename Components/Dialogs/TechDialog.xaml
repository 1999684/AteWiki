<Window x:Class="AtelierWiki.Components.Dialogs.TechDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="System Alert" Height="200" Width="400"
        WindowStyle="None" AllowsTransparency="True" Background="Transparent"
        WindowStartupLocation="CenterScreen" Topmost="True">

    <Window.Resources>
        <!-- 复用你的科技风颜色 -->
        <SolidColorBrush x:Key="TechBgBrush" Color="#0F172A"/>
        <SolidColorBrush x:Key="TechPanelBrush" Color="#1E293B"/>
        <SolidColorBrush x:Key="TechAccentBrush" Color="#00F0FF"/>
        <SolidColorBrush x:Key="TechTextBrush" Color="#E2E8F0"/>

        <!-- 按钮样式 -->
        <Style x:Key="TechButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#1E293B"/>
            <Setter Property="Foreground" Value="{StaticResource TechAccentBrush}"/>
            <Setter Property="BorderBrush" Value="{StaticResource TechAccentBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="20,5"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" Background="{TemplateBinding Background}" 
                                BorderBrush="{TemplateBinding BorderBrush}" 
                                BorderThickness="{TemplateBinding BorderThickness}" 
                                CornerRadius="2">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#3300F0FF"/>
                                <Setter TargetName="border" Property="Effect">
                                    <Setter.Value>
                                        <DropShadowEffect Color="#00F0FF" BlurRadius="10" ShadowDepth="0"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <!-- 弹窗主体 -->
    <Border Background="{StaticResource TechBgBrush}" 
            BorderBrush="{StaticResource TechAccentBrush}" 
            BorderThickness="1" 
            CornerRadius="4">
        <Border.Effect>
            <DropShadowEffect Color="#000" BlurRadius="20" ShadowDepth="5" Opacity="0.5"/>
        </Border.Effect>

        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <!-- 标题 -->
                <RowDefinition Height="*"/>
                <!-- 内容 -->
                <RowDefinition Height="Auto"/>
                <!-- 按钮 -->
            </Grid.RowDefinitions>

            <!-- 1. 标题栏 -->
            <Border Grid.Row="0" Background="{StaticResource TechPanelBrush}" Padding="15,10" CornerRadius="3,3,0,0">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="⚠ SYSTEM ALERT" FontWeight="Bold" Foreground="{StaticResource TechAccentBrush}" FontFamily="Consolas"/>
                </StackPanel>
            </Border>

            <!-- 2. 内容区域 -->
            <TextBlock x:Name="MessageText" Grid.Row="1" 
                       Text="这里是错误信息内容..." 
                       Foreground="{StaticResource TechTextBrush}" 
                       TextWrapping="Wrap" 
                       HorizontalAlignment="Center" VerticalAlignment="Center" 
                       Margin="20"/>

            <!-- 3. 底部按钮 -->
            <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,0,15,15">
                <Button Content="CONFIRM" Click="BtnOk_Click" Style="{StaticResource TechButtonStyle}"/>
            </StackPanel>
        </Grid>
    </Border>
</Window>
