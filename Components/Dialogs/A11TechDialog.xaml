<Window x:Class="AtelierWiki.Components.Dialogs.A11TechDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="A11 Details" Height="400" Width="550"
        WindowStyle="None" AllowsTransparency="True" Background="Transparent"
        WindowStartupLocation="CenterScreen" Topmost="True">

    <Window.Resources>
        <SolidColorBrush x:Key="TechBgBrush" Color="#EE0F172A"/>
        <SolidColorBrush x:Key="TechAccentBrush" Color="#00F0FF"/>
        <SolidColorBrush x:Key="TechTextBrush" Color="#E2E8F0"/>
        <SolidColorBrush x:Key="TechDimTextBrush" Color="#94A3B8"/>

        <!-- 科技感细滚动条样式 -->
        <Style x:Key="TechScrollBarStyle" TargetType="{x:Type ScrollBar}">
            <Setter Property="Stylus.IsFlicksEnabled" Value="False"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Width" Value="8"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ScrollBar}">
                        <Grid x:Name="GridRoot" Width="{TemplateBinding Width}" Background="{TemplateBinding Background}">
                            <Track x:Name="PART_Track" IsDirectionReversed="true" Focusable="false">
                                <Track.Thumb>
                                    <Thumb x:Name="Thumb">
                                        <Thumb.Template>
                                            <ControlTemplate TargetType="{x:Type Thumb}">
                                                <Border x:Name="ThumbBorder" Background="#3300F0FF" CornerRadius="4" Margin="1,0"/>
                                                <ControlTemplate.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter TargetName="ThumbBorder" Property="Background" Value="{StaticResource TechAccentBrush}"/>
                                                    </Trigger>
                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </Thumb.Template>
                                    </Thumb>
                                </Track.Thumb>
                            </Track>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- 按钮样式 -->
        <Style x:Key="TechButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#1E293B"/>
            <Setter Property="Foreground" Value="{StaticResource TechAccentBrush}"/>
            <Setter Property="BorderBrush" Value="{StaticResource TechAccentBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="25,6"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="FontFamily" Value="Consolas"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="2">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#2200F0FF"/>
                                <Setter TargetName="border" Property="Effect">
                                    <Setter.Value>
                                        <DropShadowEffect Color="#00F0FF" BlurRadius="8" ShadowDepth="0"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Border Background="{StaticResource TechBgBrush}"
            BorderBrush="{StaticResource TechAccentBrush}"
            BorderThickness="1"
            CornerRadius="4">
        <Border.Effect>
            <DropShadowEffect Color="Black" BlurRadius="30" Opacity="0.7" ShadowDepth="0"/>
        </Border.Effect>

        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="50"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="60"/>
            </Grid.RowDefinitions>

            <!-- 1. 标题栏 -->
            <Border Grid.Row="0" Background="#1E293B" CornerRadius="3,3,0,0" Padding="20,0">
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                    <Path Data="M11,9H13V7H11M11,17H13V11H11M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"
                          Fill="{StaticResource TechAccentBrush}" Width="16" Height="16" Margin="0,0,10,0"/>
                    <TextBlock Text="DATA ANALYSIS // INFO PANEL" Foreground="{StaticResource TechAccentBrush}"
                               FontWeight="Bold" FontFamily="Consolas" FontSize="13" VerticalAlignment="Center"/>
                </StackPanel>
            </Border>

            <!-- 2. 内容区域 -->
            <ScrollViewer Grid.Row="1" Padding="25" VerticalScrollBarVisibility="Auto">
                <ScrollViewer.Resources>
                    <Style TargetType="{x:Type ScrollBar}" BasedOn="{StaticResource TechScrollBarStyle}"/>
                </ScrollViewer.Resources>
                <TextBlock x:Name="MessageText"
                           Text="Initializing..."
                           Foreground="{StaticResource TechTextBrush}"
                           FontSize="15"
                           TextWrapping="Wrap"
                           LineHeight="26"
                           FontFamily="Microsoft YaHei UI, Segoe UI"/>
            </ScrollViewer>

            <!-- 3. 底部区域 -->
            <Border Grid.Row="2" BorderBrush="#22475D6F" BorderThickness="0,1,0,0" Margin="0,0" Padding="10">
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                    <Button Content="Close" Click="BtnClose_Click" Style="{StaticResource TechButtonStyle}" Height="35" Width="69"/>
                </StackPanel>
            </Border>
        </Grid>
    </Border>
</Window>
